$(document).ready(function(){var a=new Deck;$("button").on("click",function(){var b=$(this).text();switch(b){case"New Deck":a.reset(),c(a.cards),c(a.getDrawnCards(),"#drawn-cards");break;case"Shuffle":a.shuffle(),c(a.cards),c(a.getDrawnCards(),"#drawn-cards");break;case"Sort":a.shuffle(),c(a.sort(a.cards)),c(a.getDrawnCards(),"#drawn-cards");break;case"Draw":a.draw(),c(a.cards),c(a.getDrawnCards(),"#drawn-cards");break;case"Draw Multiple":count=$("input[name=count-draw]").val(),a.draw(count),c(a.cards),c(a.getDrawnCards(),"#drawn-cards")}});var b=function(){a.reset(),c(a.cards)},c=function(a,b){for(var c,d,e,f,g="",h=0,i=a.length;h<i;h++)c=a[h].suit.toLowerCase(),f=a[h].pos[1],11===f?f="J":12===f?f="Q":13===f?f="K":0===f&&(f="A"),e="rank-"+f.toString().toLowerCase(),d=["card",c,e].join(" "),"diamonds"===c&&(c="diams"),h%12===0&&(g+='<div class="row">'),g+='<div class="col-xs-1"><div class="'+d+'"><span class="rank">'+f+'</span><span class="suit">&'+c+";</span></div></div>",h%12===11&&(g+="</div>");b=b||"#deck-cards",$(b).html(g)};b()});var Deck=function(){this.suits={Clubs:1,Spades:2,Hearts:3,Diamonds:4},this.ranks={Two:2,Three:3,Four:4,Five:5,Six:6,Seven:7,Eight:8,Nine:9,Ten:10,Jack:11,Queen:12,King:13,Ace:0},this.cards=[],this.drawnCards=[],this.reset()};Deck.prototype={createDeck:function(){for(var a in this.suits)for(var b in this.ranks)this.cards.push(this.createCard(a,b))},createCard:function(a,b){return{suit:a,rank:b,pos:[this.suits[a],this.ranks[b]],text:a+"-"+b}},reset:function(){this.drawnCards.length=0,this.cards.length=0,this.createDeck(),this.shuffle()},hasCards:function(){return this.cards.length>0},getDrawnCards:function(){return this.sort(this.drawnCards)},draw:function(a){if(!this.hasCards())return null;a=a||1;var b=this.cards.splice(0,a);return this.drawnCards=this.drawnCards.concat(b),this.sort(b)},shuffle:function(){var a,b,c=this.cards.length;if(0!==c)for(;--c;)a=Math.floor(Math.random()*(c+1)),b=this.cards[c],this.cards[c]=this.cards[a],this.cards[a]=b},sort:function(a){return a.sort(function(a,b){var c=parseInt(a.pos[0],10),d=parseInt(b.pos[0],10),e=parseInt(a.pos[1],10),f=parseInt(b.pos[1],10);return c-d||e-f})}};